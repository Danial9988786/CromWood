@using CromWood.Business.Models.ViewModel;
@model LicenseCertificateViewModel

@{
    string url = "'" + Model.Id.ToString() + "'";
}

<div class="modal-content rounded-0 model-custom-bg">
    <div class="modal-header modal_header_fixed py-2 bg-white">
        <h5 class="modal-title" id="staticBackdropLabel">License/ Certificate Details</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
    </div>
    <div class="modal-body pt-0">
        <div class="row top_bar__fixed align-items-center">
            <div class="col-8">
                <span class="gray_12">License/ Certificate</span>
                <h5 class="modal-title" id="staticBackdropLabel">@Model.LicenseCertificateType.Name</h5>
            </div>
            <div class="col-2">
                &nbsp;
            </div>
            <div class="col-2">
                <div class="shadow-box ms-auto">
                    <a class="action_dropwown text-decoration-none custom__btn" href="#" role="button" id="acp-action"
                       data-bs-toggle="dropdown" aria-expanded="false">
                        <img src="~/assets/img/settings-02.svg" alt="setting_icon">
                        Actions
                        <img src="~/assets/img/down_arrow.svg">
                    </a>
                    <ul class="dropdown-menu shadow border-0 dropdown-menu-end rounded-0 p-0"
                        aria-labelledby="acp-action">
                        <li><a class="dropdown-item" data-bs-dismiss="modal" onclick="AddModifyLicense(@url)">Edit Certificate</a></li>
                        <li><a class="dropdown-item" onclick="DeleteLicense(@url)">Delete</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="l_c mt-3 px-3">
            <div class="main_insurence">
                <div class="row">
                    <div class="col-xl-6">
                        <h5 class="modal-title mt-3" id="staticBackdropLabel">Certificate Details</h5>
                        <span class="gray_12">Type</span>
                        <p class="pagagraph mt-1" id="staticBackdropLabel">@Model.LicenseCertificateType.Name</p>
                        <span class="gray_12 d-inline-block">Property</span>
                        <p class="pagagraph mt-1" id="staticBackdropLabel">@Model.Property.Asset.StreetAddress</p>
                        <span class="gray_12 d-inline-block">Expiry Date</span>
                        <p class="pagagraph mt-1" id="staticBackdropLabel">@Model.ExpiryDate</p>
                        <span class="gray_12 d-inline-block">Notes</span>
                        <p class="pagagraph mt-1" id="staticBackdropLabel">@Model.Note</p>
                    </div>
                    <div class="col-xl-6 ps-5">
                        <div class="d-flex justify-content-between align-items-center">
                            <div class="sora18">
                                <span>File Preview</span>
                            </div>
                            <div class="d_btn mt-2">
                                    <a onclick="download()">
                                        <img src="~/assets/img/download-02.svg" alt="download_svg" />Download
                                    </a>
                                
                            </div>
                        </div>
                        <div class="license_cer_pdf pt-2 mb-3">
                            <embed style="display:flex;width:100%;height:100vh" src="@Model.DocUrl" class="img-fluid" alt="doc_preview" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



@* <div class="modal-content rounded-0">
    <div class="modal-header py-2">
        <h5 class="modal-title" id="staticBackdropLabel">View License</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
    </div>
    <div class="modal-body">

        <div>

            <a onclick="ViewLicense(@url)">View</a> |
            <a >Edit</a> |
            @if (Model.Archieved == null || Model.Archieved == false)
            {
                <a onclick="ArchieveLicense(@url)">Archieve</a> <span> |</span>
            }
            <a onclick="DeleteLicense(@url)">Delete</a>
        </div>

        <dl class="row">
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Property)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Property.Asset.StreetAddress)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.LicenseCertificateType)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.LicenseCertificateType.Name)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.ExpiryDate)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.ExpiryDate)
            </dd>

            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Note)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Note)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Archieved)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Archieved)
            </dd>

        </dl>
        <embed type="application/pdf" src="@Model.DocUrl" />

    </div>
</div>
 *@


    <script type="text/javascript">
        function download() {
            document.getElementById("downloadBtn").click()
        }
    </script>
       